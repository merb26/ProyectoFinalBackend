import cars from '../models/cars.js';

export class CarsMongoDAO {
  constructor() {}
  /* -------------------------------------------------------------------------- */
  /*                                    save                                    */
  /* -------------------------------------------------------------------------- */
  async save(obj) {
    const car = new cars(obj);
    car.save();
  }

  /* -------------------------------------------------------------------------- */
  /*                                    update                                    */
  /* -------------------------------------------------------------------------- */
  async update(obj) {
    const {_id, products} = obj;

    await cars.updateOne(
      {_id},
      {
        $set: {
          products,
        },
      }
    );
  }

  /* -------------------------------------------------------------------------- */
  /*                                   getById                                  */
  /* -------------------------------------------------------------------------- */
  async getById(_id) {
    // return products.findOne({ _id })
  }

  /* -------------------------------------------------------------------------- */
  /*                                   getAll                                   */
  /* -------------------------------------------------------------------------- */
  async getAll() {
    return cars.find({});
  }

  /* -------------------------------------------------------------------------- */
  /*                                 deleteById                                 */
  /* -------------------------------------------------------------------------- */
  async delete() {
    await cars.deleteMany({});
  }
}
