html
    head 
        title Coder Merb
        link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous")
        link(rel="stylesheet" href="../css/listProducts/listProducts.css")
    body
        div(class="p-4 menu")
            div Games Virtual
            div(class="information")
                div
                    img(class="information__avatar" src=`${userLogin.urlPhoto}` alt="Foto del usuario" width="100px" height="100px")
                div(class="information__usuario")
                    div(class="info")=`Email: ${userLogin.email}`
                    div(class="info")=`Nombre: ${userLogin.name}`
                    div(class="info")=`Dirección: ${userLogin.address}`
                    div(class="info")=`Teléfono: ${userLogin.phone}`
            div
                form(method="GET" action="./car/1/products")
                    button(onclick="submit")
                        img(src="./img/carrito.png")
            div
                form(method="GET" action="./logout")
                    button(onclick="submit") Cerrar sesión
        |
        h1 Videojuegos
        |
        div(class="boxListProducts")
            each product, index in products
                div(class="card product")
                    div(class="card-body title")
                        h4(class="card-title")=product.name
                        h4(class="card-title")="$" + product.price
                        input(type="text" id=`id${index}` value=product.id hidden)
                    img(src=`${product.urlPicture}` alt="Producto" class="card-img-top")
                    |
                    div(class="card-body")
                        p(class="card-text")=product.description
                        if !isAdministrator
                            form(action=`./products/formUpdate/${product.id}` method="GET")
                                input(class="m-2 btn btn-dark form-control buttonAdministrator" type="submit" value="Actualizar")
                                input(class="m-2 btn btn-dark form-control buttonAdministrator" onclick=`return btnRemove(this,${index})` type="button" value="Eliminar")
                        |
                        form(action=`./products/${product.id}` method="POST")
                            input(class="m-2 w-75 btn btn-dark form-control" type="submit" value="Más detalle")              
        |
        div(class="buttons")
            if !isAdministrator
                form(action="./products/formSave" method="GET")
                    |
                    input(class="m-4 p-2 btn btn-dark form-control button" type="submit" value="Agregar producto")
        |
        script(src="../../apis/listProduct.js") 
        script(src="../../apis/user.js") 